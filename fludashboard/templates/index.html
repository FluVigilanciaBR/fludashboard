<!DOCTYPE html>
<html>
<head>
  <title>Situação da Gripe</title>
  <link rel="stylesheet" href="./static/libs/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="./static/libs/dc/dc.min.css">
  <link rel="stylesheet" href="./static/css/custom.css">
  <link rel="stylesheet" href="./static/libs/leaflet/leaflet.css"/>
  <link rel="stylesheet" href="./static/libs/c3/c3.min.css"/>
  <link rel="stylesheet" href="./static/libs/datatables/datatables.min.css"/>
  <link rel="stylesheet"
        href="./static/libs/datatables/ext/buttons.dataTables.min.css"/>
  <link rel="stylesheet"
        href="./static/libs/leaflet/legend/leaflet-legend.css"/>
  <link rel="icon"
        type="image/png"
        href="/static/img/info_gripe_icon.ico"
  />
  <style type="text/css">

  </style>
</head>
<body>

<div class="navbar navbar-dark bg-primary" role="navigation">
  <iframe src="./super-header" class="super-header" scrolling="no"></iframe>

  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="./"><strong>Monitoramento de casos
        reportados de síndrome respiratória aguda
        grave (SRAG) hospitalizados</strong></a>
      <a href="/help"
         style="display:inline;font-weight:bold;color:white;cursor:pointer;"
      >[Ajuda]</a>
    </div>
  </div>
</div>
<div class="document container-fluid">

  <div class="row">

    <div class="col-md-12 mt-3 mb-1">
        <!-- Time Chart -->
          <div class="card p-3">
            <div class="card-block">
              <div class="criteria-box">
                <input
                    id="btn-detailed"
                    type="button" value="Detalhado (semana)"
                    class="tab">
                <input
                    id="btn-resumed"
                    type="button" value="Resumido (ano)"
                    class="tab selected">
              </div>
              <div class="criteria-box">
                <label>Conjunto de dados:</label> <br/>
                <select name="dataset" id="dataset">
                  <option value="1" selected="selected">SRAG</option>
                  <option value="2">SRAGFLU</option>
                  <option value="3">OBITOFLU</option>
                </select>
              </div>
              <div class="criteria-box">
                <label>Escala:</label> <br/>
                <select name="scale" id="scale">
                  <option value="1" selected="selected">INCIDÊNCIA</option>
                  <option value="2">CASOS</option>
                </select>
              </div>
              <div class="criteria-box">
                <input type="radio"
                       id="radTerritoryTypeState"
                       name="radTerritoryType[]"
                       checked="checked"
                       value="1"> Por UF
                <br/>
                <input type="radio"
                       id="radTerritoryTypeRegion"
                       name="radTerritoryType[]"
                       value="3"
                > Por região geopolítica
                <br/>
                <input type="radio"
                       id="radTerritoryTypeRegional"
                       name="radTerritoryType[]"
                       value="2"
                > Por padrão de circulação
              </div>
              <div class="criteria-box">
                <strong>Ano:</strong>
                <br/>
                <select id='year'>
                  {%for year in list_of_years:%}
                  <option value='{{year}}'
                    {{'selected="selected"' if year==last_year else ''}}
                  >{{year}}</option>
                  {%endfor%}
                </select>
              </div>
              <div id="div-week" class="criteria-box">
                <div data-role="main" class="ui-content">
                  <label for="week">Semana:</label>
                  <input type id="week-display" value="{{current_epiweek}}"
                         style="width:30px;text-align:center;padding:1px;"
                         maxlength="2"
                  />
                  <input type="range" id="week"
                         value="{{current_epiweek}}" min="1" max="52"/>
                </div>
              </div>
              <input type="hidden" id="selected-territory" value=""/>
            </div>
          </div>
        </div>
        <!-- Time Chart -->
  </div>

  <div class="row my-3">
    <!-- Map -->
    <div class="col-md-5">
      <div class="card">
        <h5 class="card-header" id="map-incidence-case-title">
            Mapa de incidência de SRAG
        </h5>
        <div class="card-block">
          <div id="map" class="content-height"></div>
        </div>
      </div>
      <div id="legend">
        <strong>N&iacute;vel de atividade</strong><br/>
        <svg width="120" height="90">
          <rect x="10" y="15" height="10" width="10"
                class="legend-square alert-green"/>
          <text x="20" y="20" transform="translate(8,4)">Baixa</text>

          <rect x="10" y="35" height="10" width="10"
                class="legend-square alert-yellow"/>
          <text x="20" y="40" transform="translate(8,4)">Epid&ecirc;mica</text>

          <rect x="10" y="55" height="10" width="10"
                class="legend-square alert-orange"/>
          <text x="20" y="60" transform="translate(8,4)">Alta</text>

          <rect x="10" y="75" height="10" width="10"
                class="legend-square alert-red"/>
          <text x="20" y="80" transform="translate(8,4)">Muito Alta</text>
        </svg>
      </div>
    </div>
    <!-- Map -->

    <div class="col-md-7">
          <div class="card">
            <h5 class="card-header">
              <span
                  id="chart-incidence-case-title">Curva de Incidência</span>
                <span class="territory-display"></span>
            </h5>
            <div class="card-block chart-incidence">
              <!-- info panel -->
              <div id="chart-incidence-activity-level-panel">
                <p class="seasons hidden">
                  <strong class="chart-extra-text">Temporadas
                    regulares:</strong>
                  <span class="chart-extra-text"></span> <br/>
                </p>

                <p class="prob hidden">
                  <strong class="chart-extra-text">
                    Probabilidade do n&iacute;vel de atividade:
                  </strong><br/>
                  <span class="chart-extra-text">
                      Baixa: <span class="low"></span>%
                    </span> <br/>
                  <span class="chart-extra-text">
                      Epidêmica: <span class="epidemic"></span>%
                    </span> <br/>
                  <span class="chart-extra-text">
                      Alta: <span class="high"></span>%
                    </span> <br/>
                  <span class="chart-extra-text">
                      Muito Alta: <span class="very-high"></span>%
                    </span>
                </p>

                <p class="level hidden">
                  <strong class="chart-extra-text">N&iacute;vel de
                    atividade:</strong><br/>
                  <span class="chart-extra-text classification"></span> <br/>
                </p>
              </div>
              <!-- info panel:end -->

              <!-- chart -->
              <div id="weekly-incidence-curve-chart"
                   class="content-height"></div>
              <!-- chart:end -->
            </div>
          </div>
        </div>
        <!-- Resources Pie -->

  </div>
  <div class="row my-3">
    <!-- Table -->
    <div class="col-md-5">
      <div class="card">
        <h5 class="card-header">
            <span id="table-incidence-case-title">Incidência</span>
            <span class="period-display">na semana epidemiológica</span>
            <span class="week-display"></span>
            <span class="territory-display"></span>
        </h5>
        <div class="card-block p-2 content-height" id="divTable"
             style="overflow-y:auto;">

        </div>
      </div>
    </div>

    <!-- Gender/Age Distribution -->
    <div class="col-md-7">
      <div class="card">
        <h5 class="card-header">
          Distribui&ccedil;&atilde;o por G&ecirc;nero/Idade
            <span class="period-display">na semana epidemiológica</span>
            <span class="week-display"></span>
            <span class="territory-display"></span>
        </h5>
        <div class="card-block content-height">
          <div id="age-chart" class="content-height"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div id="accordion" class="mb-3">
        <div class="card">
          <div class="card-header" id="headingOne">
            <h5 class="mb-0">
              <button class="btn btn-link" data-toggle="collapse"
                      data-target="#collapseOne"
                      aria-expanded="false"
                      aria-controls="collapseOne"
              >
                Acompanhamento de oportunidades
              </button>
            </h5>
          </div>

          <div id="collapseOne" class="collapse" aria-labelledby="headingOne">
            <!-- removed: data-parent="#accordion" from #collapseOne-->
            <div class="card-body">
              Anim pariatur cliche reprehenderit, enim eiusmod high life
              accusamus terry richardson ad squid. 3 wolf moon officia aute,
              non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt
              laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a
              bird on it squid single-origin coffee nulla assumenda shoreditch
              et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson
              cred nesciunt sapiente ea proident. Ad vegan excepteur butcher
              vice lomo. Leggings occaecat craft beer farm-to-table, raw denim
              aesthetic synth nesciunt you probably haven't heard of them
              accusamus labore sustainable VHS.
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-header" id="headingTwo">
            <h5 class="mb-0">
              <button class="btn btn-link collapsed" data-toggle="collapse"
                      data-target="#collapseTwo" aria-expanded="false"
                      aria-controls="collapseTwo">
                Exâmes laboratoriais
              </button>
            </h5>
          </div>
          <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo">
            <!-- removed: data-parent="#accordion" from #collapseTwo-->
            <div class="card-body" id="etiological-chart">
              <!--#136-->
            </div>
          </div>
        </div>

      </div>
    </div>

</div>

<script src="./static/libs/jquery/jquery.js"></script>
<script src="./static/libs/bootstrap/bootstrap.min.js"></script>
<script src="./static/libs/popper/popper.min.js"></script>
<script src="./static/libs/crossfilter/crossfilter.min.js"></script>
<script src="./static/libs/d3/d3.min.js"></script>
<script src="./static/libs/dc/dc.min.js"></script>
<script src="./static/libs/queue/queue.js"></script>
<script src="./static/libs/leaflet/leaflet.js"></script>
<script src="./static/libs/leaflet/legend/leaflet-legend.js"></script>
<script src="./static/libs/c3/c3.min.js"></script>
<script src="./static/libs/datatables/datatables.min.js"></script>
<script src="./static/libs/datatables/ext/jquery.dataTables.min.js"></script>
<script src="./static/libs/datatables/ext/dataTables.buttons.min.js"></script>
<script src="./static/libs/datatables/ext/jszip.min.js"></script>
<script src="./static/libs/datatables/ext/vfs_fonts.js"></script>
<script src="./static/libs/datatables/ext/buttons.html5.min.js"></script>
<script src="./static/libs/plotlyjs/plotly-latest.min.js"></script>
<script src="./static/js/flu_table.js"></script>
<script src="./static/js/flu_map.js"></script>
<script src="./static/js/flu_chart.js"></script>
<script src="./static/js/dashboard.js"></script>
<script language="JavaScript">
    $(document).ready(function(){
      dashboard = new Dashboard({{last_week_years}});
      dashboard.init();
    });

</script>
</body>
</html>
